<section class="container">
    <!-- cart menu -->
    <div class="p-3 mb-5">
        <ul class="nav justify-content-center">
            <li class="nav-item">
                <a class="nav-link text-secondary" href="/cart">Shopping cart</a>
            </li>
            <li class="nav-item menu-cart">
                <a class="nav-link text-secondary" href="/cart/shipping">Shipping details</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-secondary" href="/cart/payment">Payment options</a>
            </li>
        </ul>
    </div>

    <div class="row">
        <!-- shipping details -->
        <div class="col-md-7 col-lg-8 mb-5">
            <h1 class="h3 mb-3">Shipping details</h1>
            <hr class="mb-5">
            <!-- address -->
            <div>
                <form action="/cart/shipping" class="row g-3">
                    {{#if customer}}
                    <fieldset disabled>
                        <div class="col-12 mb-3">
                            <input type="hidden" id="id" name="id" value="{{customer.id}}">
                            <input type="text" class="form-control" id="firstName" name="firstName"
                                value="{{customer.name}}">
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <input type="text" class="form-control" id="address" placeholder="1234 Main St"
                                    name="address" value="{{customer.address}}">
                            </div>
                            <div class="col-md-6 mb-3">
                                <input type="text" class="form-control" id="city" name="city" value="{{customer.city}}">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <input type="text" class="form-control" id="state" name="state"
                                    value="{{customer.state}}">
                            </div>
                            <div class="col-md-6 mb-3">
                                <input type="text" class="form-control" id="zip" name="zip_code"
                                    value="{{customer.zip_code}}">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <input type="phone" class="form-control" id="phone" name="phone"
                                    value="{{customer.phone}}">
                            </div>
                            <div class="col-md-6">
                                <input type="email" class="form-control" id="newEmail" name="email"
                                    value="{{customer.email}}">
                            </div>
                        </div>
                    </fieldset>
                    {{/if}}
                </form>
            </div>
            <hr class="my-5">
            <!-- shipping -->
            <div class="d-flex justify-content-center">
                <div class="border p-3 mx-3">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="shipping" id="free" value="free" checked
                            onchange="shipping('Free')">
                        <label class="form-check-label" for="inlineRadio1">Free Shipping
                            <p class="text-muted small mb-0">Between 2-5 working days</p>
                        </label>
                    </div>
                </div>
                <div class="border p-3 mx-3">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="shipping" id="nextDay" value="20"
                            onchange="shipping(`$20`)">
                        <label class="form-check-label" for="inlineRadio2">Next Day Delivery $20
                            <p class="text-muted small mb-0">24 hours from checkout</p>
                        </label>
                    </div>
                </div>
            </div>
            <hr class="my-5">
        </div>

        <!-- summary -->
        <div class="col-md-5 col-lg-4 mb-5 px-4">
            <h1 class="h3 mb-3">Summary</h1>
            <hr>
            <!-- products -->
            <div class="mt-3">
                {{#each products}}
                <div class="card mb-4 card-cart" style="max-width: 540px;">
                    <div class="row g-0">
                        <div class="d-md-none col-md-4 text-center">
                            <a href="/products/product?id={{this.id}}" class="text-decoration-none link-secondary">
                                <img src="/images/product.jpg" class="img-fluid w-50" alt="product image"></a>
                        </div>
                        <div class="d-none d-md-block col-md-4">
                            <a href="/products/product?id={{this.id}}" class="text-decoration-none link-secondary">
                                <img src="/images/product.jpg" class="img-fluid" alt="product image"></a>
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">
                                <p class="card-title fw-bold"> <a href="/products/product?id={{this.id}}"
                                        class="text-decoration-none link-dark"> {{this.name}}</a></p>
                                <p class="card-title"> Product brand</p>
                                <p class="card-text">price</p>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                {{/each}}
            </div>

            <!-- total -->
            <div>
                <div class="row">
                    <div class="col-6">
                        <span class="text-uppercase">Subtotal</span>
                    </div>
                    <div class="col-6 mb-3">
                        <span>valor</span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <span class="text-uppercase">Shipping</span>
                    </div>
                    <div class="col-6 mb-3">
                        <span class="text-uppercase" id="cost">Free</span>
                    </div>

                </div>
                <div class="row">
                    <div class="col-6">
                        <span class="text-uppercase">Taxes</span>
                    </div>
                    <div class="col-6 mb-3">
                        <span>$13</span>
                    </div>
                </div>
                <hr>
                <div class="row fs-5">
                    <div class="col-6">
                        <span class="text-uppercase">Total</span>
                    </div>
                    <div class="col-6">
                        <span>$soma</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- buttons -->
        <div class="mb-5">
            <a href="/cart/payment" class="btn btn-secondary px-5">Next</a>
            <a href="/" class="btn btn-outline-secondary px-4">Cancel</a>
        </div>

    </div>

</section>

<script>
    const shipping = (value) => {
        document.getElementById("cost").innerHTML = value;
    }
</script>